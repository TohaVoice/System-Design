Ссылка на схему - [hw-01/Сервис объявлений с доставкой и оплатой.drawio](https://gclnk.com/ZIoOOGLo)

## **1. Функциональные требования**

**Advertisement Service**
    <ul>
	   <li>Создание/редактирование объявлений с мультимедиа</li>
	   <li>Поиск и фильтрация (по категориям, цене, локации)</li>
	   <li>Модерация контента</li>
	   <li>Система рейтингов и отзывов</li>
   </ul>

**User & Auth Service**
   <ul>
	   <li>Регистрация/аутентификация (OAuth2, JWT)</li>
	   <li>Управление профилями</li>
	   <li>Ролевая модель (покупатель, продавец, модератор)</li>
	   <li>История действий</li>
   </ul>  

**Order Service**    
   <ul>
	   <li>Создание заказов с резервированием товара</li>
	   <li>Управление статусами (Saga Pattern)</li>
	   <li>Интеграция с платежами и доставкой</li>
	   <li>История заказов</li>
   </ul> 

**Payment Service**  
   <ul>
	   <li>Интеграция с платежными системами (Stripe, Tinkoff)</li>
	   <li>Холдирование средств</li>
	   <li>Возвраты</li>
	   <li>Генерация чеков</li>
   </ul> 

**Delivery Service** 
   <ul>
	   <li>Расчет стоимости доставки</li>
	   <li>Интеграция с СДЭК, Почтой России</li>
	   <li>Трекинг посылок</li>
	   <li>Управление складами</li>
   </ul> 

**Notification Service** 
   <ul>
	   <li>Email/SMS/Push-уведомления</li>
	   <li>Шаблоны сообщений</li>
	   <li>Очередь отправки</li>
   </ul>  

**Chat Service** 
   <ul>
	   <li>Real-time общение покупатель-продавец</li>
	   <li>Прикрепление медиа</li>
	   <li>Уведомления о новых сообщениях</li>
   </ul>  

## 2. Нефункциональные требования

**Производительность**
   <ul>
	   <li>Время отклика API ≤ 500 мс (p99)</li>
	   <li>Обработка 1000 RPS на ядро</li>
	   <li>Поиск объявлений ≤ 1 сек</li>
   </ul>  

**Надежность**   
   <ul>
	   <li>Доступность 99.95% (SLA)</li>
	   <li>Восстановление после сбоя ≤ 15 мин</li>
	   <li>Гарантия сохранения данных при сбоях</li>
	   <li>Сохранение истории сообщений ≥ 12 месяцев</li>
   </ul>  

**Масштабируемость** 
   <ul>
	   <li>Горизонтальное масштабирование под нагрузкой</li>
	   <li>Автоскейлинг для Chat Service</li>
	   <li>Поддержка 100K+ активных пользователей</li>
   </ul> 

**Безопасность** 
   <ul>
	   <li>PCI DSS для Payment Service</li>
	   <li>Шифрование PII-данных</li>
	   <li>Защита от DDoS</li>
	   <li>Аудит действий</li>
   </ul>  

## 3. Метрики SLA/SLO/SLI

### 1. Общая доступность сервиса (End-to-End)
| Метрика | SLA | SLO | SLI (Измерение) | 
|-----------------------|---------|----------|------------------------------------------| 
| Общая доступность | 99.9% | 99.95% | Средний uptime за месяц |
| Время ответа API | ≤1 сек | ≤500 мс | p99 latency API-запросов (Prometheus) |
| Успех операции (создание объявления, успешная доставка, успешная оплата, возврат средств и тд) | 99% | 99.5% | % успешных операций (successful/total) |

  
   
